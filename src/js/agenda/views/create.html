<section data-ng-controller="agendaController">

	<div data-ng-include="'/js/agenda/views/subnav.html'"></div>

	<div class="col-md-12" style="padding: 0; border: 1px solid gray">
		<form class="form-horizontal" role="form" data-ng-submit="addOrUpdate();">
			
			<tabset justified="true">
				<tab heading="Infos">
					<div class="col-sm-12" style="margin-top: 20px;">
						
						<div class="form-group">
							<label for="selectedType" class="col-md-2 control-label">Type</label>
							<div class="col-md-10">
								<select class="form-control"
									name="selectedType"
									data-ng-model="currentUserEvent.selectedType"
									ng-options="eventType.name for eventType in eventTypes">
								</select>
							</div>
						</div>

						<div class="form-group">
							<label for="title" class="col-md-2 control-label">Titre</label>
							<div class="col-md-10">
								<input  
								type="text"
								class="form-control"
								name="title"
								data-ng-model="currentUserEvent.title"
								placeholder="Titre de l'évènement"
								required/>
							</div>
						</div>

						<div class="form-group">
							<label for="content" class="col-md-2 control-label">Contenu</label>
							<div class="col-md-10">
								<textarea 	
								class="form-control"
								name="content"
								data-ng-model="currentUserEvent.content"
								placeholder="Contenu de l'évènement"
								required/>
								</textarea>
							</div>
						</div>

						<div class="form-group">
							<div>
								<label for="title" class="col-md-2 control-label">Début</label>
								<div class="col-md-4">
									<p class="input-group">
										<input  
										type="text"
										class="form-control"
										datepicker-popup="{{format}}"
										data-ng-model="currentUserEvent.start"
										is-open="$parent.openedStartDate"
										min="minDate"
										max="maxDate"
										datepicker-options="dateOptions"
										date-disabled="disabled(date, mode)"
										close-text="Close"
										show-button-bar="false"/>
										<span class="input-group-btn">
											<button class="btn btn-default" ng-click="open($event, 'start')">
												<i class="glyphicon glyphicon-calendar"></i>
											</button>
										</span>
									</p>
								</div>
							</div>
							<div>
								<label for="title" class="col-md-2 control-label">Fin</label>
								<div class="col-md-4">
									<p class="input-group">
										<input  
										type="text"
										class="form-control"
										datepicker-popup="{{format}}"
										data-ng-model="currentUserEvent.end"
										is-open="$parent.openedEndDate"
										min="minDate"
										max="maxDate"
										datepicker-options="dateOptions"
										date-disabled="disabled(date, mode)"
										close-text="Close"
										show-button-bar="false"/>
										<span class="input-group-btn">
											<button class="btn btn-default" ng-click="open($event, 'end')">
												<i class="glyphicon glyphicon-calendar"></i>
											</button>
										</span>
									</p>
								</div>
							</div>
						</div>

						<div class="form-group">
							<div lass="col-md-10">
								<label for="title" class="col-md-2 control-label">Localisation</label>
								
								<!-- search/go to current location -->
								<div class="col-md-10" style="margin-bottom: 15px;">
									<p class="input-group">
										<input type="text" class="form-control" data-ng-model="search"/>
										<span class="input-group-btn">
											<button 
												class="btn"
												type="button"
												ng-click="geoCode()"
												ng-disabled="search.length == 0"
												title="search" >
												&nbsp;<i class="glyphicon glyphicon-search"></i>
											</button>
											<button 
												class="btn"
												type="button"
												ng-click="gotoCurrentLocation()"
												title="current location">
												&nbsp;<i class="glyphicon glyphicon-home"></i>
											</button>
										</span>
									</p>
								</div>

								<div class="col-md-12">
									<google-map
									center="map1.center"
									zoom="map1.zoom"
									draggable="true"
									dragging="map1.dragging"
									bounds="map1.bounds"
									events="map1.events"
									options="map1.options"
									refresh="true"
									control="map1.control">
									</google-map>
								</div>
							</div>
						</div>
					</div>
				</tab>

				<tab heading="Photos">
					<div class="col-sm-12" style="margin-top: 20px;">
						<div class="form-group">
	                        				<div data-ng-include="'/js/files/fileUpload.html'"></div>
	                    			</div>
					</div>
				</tab>
			</tabset>

			<div class="actions" style="text-align:right; padding: 20px 15px 0 0;">
				<button class="btn btn-primary" type="submit">OK</button>
			</div>

		</form>
	</div>
</section>