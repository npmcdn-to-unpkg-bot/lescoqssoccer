<section class="rightcontainer">

	<div class="subtitle">
		<h1>{{album.name || 'Nouvel album'}}</h1>
		<a href="#!" class="ok-icon" data-ng-click="saveAlbum()">
		</a>
	</div>
	<div class="pagecontent">
		<form role="form">

			<label for="name" class="control-label">{{'gallery_name' | translate}}</label>
			<input type="text" name="name" data-ng-model="album.name" ng-mouseleave="saveAlbum(album, !(album._id))" required/>
			<div class="form-group">
				<button
				class="button"
				ng-click="uploadFiles();"
				data-ng-disabled="!album.name">
				<span tooltip="Rentre d'abord un nom" tooltip-placement="right" ng-show="!album.name"></span>
					Ajouter des photos
				</button>
			</div>
			<hr/>

			<label for="cover" class="control-label">{{'gallery_cover' | translate}}</label>
			<select
				name="cover"
				data-ng-disabled="displayPhotos.length === 0"
				data-ng-model="album.coverPic"
				data-ng-change="setCoverPic(coverPic)"
				data-ng-options="f as f.name for f in displayPhotos">
			</select>

			<table class="table table-striped table-hover">
				<tbody>
					<tr data-ng-repeat="photo in displayPhotos">
						<td>
							<a href="#!/albums/detail/{{album._id}}">{{$index +1}}</a>
						</td>
						<td>
							<a>
								<img data-ng-src="{{photo.filepath}}" style="width: 150px; height: auto;">
							</a>
						</td>
						<td>
							<a href="#!/albums/detail/{{album._id}}">{{photo.name}}</a>
						</td>
						<td style="text-align: center">
							<a ng-click="deletePhoto(photo);">
							<span class="glyphicon glyphicon-trash" title="Delete Photo"/>
							</a>
						</td>
					</tr>
				</tbody>
			</table>
		</form>
	</div>
</section>