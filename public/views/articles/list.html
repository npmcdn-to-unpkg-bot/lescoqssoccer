<section class="mainContent" data-ng-controller="ArticlesController">

    <section class="controls no-select" style="position: absolute; left: 0; top: 0;">
      <div class="tControls">
        <div class="top" style="margin-top: 50px;">
          <button ng-click="items.showCreationForm()" class="btn" title="Créer un nouvel article" alt="Créer un nouvel article">
            <i class="glyphicon glyphicon-plus"></i>
          </button>
          <button ng-click="items.showEditionForm()" ng-disabled="!items.selected" class="btn" title="Editer l'article" alt="Editer l'article">
            <i class="glyphicon glyphicon-edit"></i>
          </button>
          <button ng-click="remove(items.selected.article)" ng-disabled="!items.selected" class="btn">
            <i class="glyphicon glyphicon-trash"></i>
          </button>
        </div>
        <div class="middle">
          <button ng-click="items.prev();" class="btn" ng-disabled="!items.hasPrev()">
            <i class="glyphicon glyphicon-arrow-up"></i>
          </button>
          <button ng-click="items.next();" class="btn" ng-disabled="!items.hasNext()">
            <i class="glyphicon glyphicon-arrow-down"></i>
          </button>
        </div>
        <div class="bottom">
          <button ng-click="refresh()" class="btn" title="Refresh feeds" alt="Refresh feeds">
            <i class="glyphicon glyphicon-refresh"></i>
          </button>
        </div>
      </div>
    </section>

    <section class="summaries" style="position: absolute; left: 50px; top: 50px; height: calc(100% - 50px);">
      <article ng-repeat="item in items.all"
               id="{{item.id}}"
               ng-class="{active: item.selected && items.selected}" class="well summary"
               ng-click="items.selectItem($index);">
        <div class="row-fluid" >
          <div class="span6 pub-name">
            {{item.feedTitle}}
          </div>
          <div class="span6 pub-date">
            {{item.date}}
          </div>
        </div>
        <h3 class="pub-title">{{item.title}}</h3>
      </article>
    </section>

    <section class="entries" style="padding-top: 0; margin-left: 300px;">
      <article class="well entry active"
               ng-show="items.selected && items.onCreation === false && items.onEdition === false">
        <div class="row-fluid">
          <h2>{{items.selected.title}}</h2>
          <span class="author">{{items.selected.user.name}}</span> - le <span class="pub-name">{{items.selected.created | date:'medium'}}</span>
          <hr />
          <w-Viewarticle></w-Viewarticle>
        </div>
      </article>

      <div class="nothingSelected" ng-show="(!items.filtered.length || !items.selected) && items.onCreation === false">
        <img src="img/sadpanda.png" alt="Sad Panda" title="Sad Panda">
        <p>Nothing selected.</p>
      </div>

      <article class="well entry active" 
               ng-show="items.onCreation === true">
        <w-Createarticle></w-Createarticle>
      </article>

      <article class="well entry active" 
               ng-show="items.onEdition === true">
        <w-Editarticle></w-Editarticle>
      </article>

    </section>
</section>
